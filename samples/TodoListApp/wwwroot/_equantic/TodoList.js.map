{
  "version": 3,
  "sources": ["../../obj/eQuantic/ts/TodoList.ts"],
  "sourcesContent": [
    "import { BuildContext, Component, ComponentState, format, getServerActionsClient, HtmlElement, StatefulComponent, StatelessComponent } from \"@equantic/runtime\";\nimport { Box } from \"./Box\";\nimport { Button } from \"./Button\";\nimport { Card } from \"./Card\";\nimport { Checkbox } from \"./Checkbox\";\nimport { Container } from \"./Container\";\nimport { Drawer } from \"./Drawer\";\nimport { Heading } from \"./Heading\";\nimport { InputComponent } from \"./InputComponent\";\nimport { Modal } from \"./Modal\";\nimport { Text } from \"./Text\";\nimport { TextInput } from \"./TextInput\";\n\nexport class TodoList extends StatefulComponent {\n    createState() {\n        return new TodoListState(this)\n    }\n\n    async getTodos() {\n        return await getServerActionsClient().invoke('TodoList/GetTodos', [])\n    }\n\n    async addTodo(title: string) {\n        return await getServerActionsClient().invoke('TodoList/AddTodo', [title])\n    }\n\n    async toggleTodo(id: string) {\n        return await getServerActionsClient().invoke('TodoList/ToggleTodo', [id])\n    }\n\n    async deleteTodo(id: string) {\n        return await getServerActionsClient().invoke('TodoList/DeleteTodo', [id])\n    }\n\n    async updateTodo(id: string, title: string) {\n        return await getServerActionsClient().invoke('TodoList/UpdateTodo', [id, title])\n    }\n\n    async clearCompleted() {\n        return await getServerActionsClient().invoke('TodoList/ClearCompleted', [])\n    }\n\n}\n\n\nexport class TodoListState extends ComponentState {\n    _component: TodoList;\n    _needsRender: boolean = false;\n    _todos: Todo[] = [];\n    _newTodoTitle: string = '';\n    _currentFilter: TodoFilter = 'all';\n    _isEditing: boolean = false;\n    _editingId: string = null;\n    _editingTitle: string = '';\n    _isDrawerOpen: boolean = false;\n    constructor(component: TodoList) {\n        super();\n        this._component = component;\n    }\n\n    setState(fn: () => void) {\n        fn();\n        this._needsRender = true;\n        this._component._scheduleRender();\n    }\n\n    onInit() {\n        this.loadTodos();\n    }\n\n    async loadTodos() {\n        this._todos = await this._component.getTodos();this.setState(() => {});\n    }\n\n    async handleAdd() {\n        if ((!this._newTodoTitle || this._newTodoTitle.trim() === '')) return;await this._component.addTodo(this._newTodoTitle);this._newTodoTitle = '';await this.loadTodos();\n    }\n\n    async handleToggle(id: string) {\n        await this._component.toggleTodo(id);await this.loadTodos();\n    }\n\n    async handleDelete(id: string) {\n        await this._component.deleteTodo(id);await this.loadTodos();\n    }\n\n    async handleClearCompleted() {\n        await this._component.clearCompleted();await this.loadTodos();\n    }\n\n    openEdit(todo: Todo) {\n        this.setState(() => {this._isEditing = true;this._editingId = todo.id;this._editingTitle = todo.title;});\n    }\n\n    async saveEdit() {\n        if ((!this._editingTitle || this._editingTitle.trim() === '')) return;await this._component.updateTodo(this._editingId, this._editingTitle);this.setState(() => {this._isEditing = false;});await this.loadTodos();\n    }\n\n    createFilterButton(filter: TodoFilter, label: string) {\n        let isActive = this._currentFilter === filter;return new Button({ text: label, variant: isActive ? 'primary' : 'ghost', className: 'flex-1 px-3 py-1.5 text-xs font-semibold rounded-md transition-all ' + (isActive ? 'shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-zinc-700/50'), onClick: () => {this.setState(() => {this._currentFilter = filter;});} });\n    }\n\n    build(context: BuildContext) {\n        let filteredTodos = (() => { const _s = this._currentFilter; if (_s === 'active') return this._todos.filter((t) => !t.isCompleted); if (_s === 'completed') return this._todos.filter((t) => t.isCompleted); return this._todos; })();let todoList = new Box({ className: 'flex flex-col gap-[5px]' });if (!(filteredTodos.length > 0)) {todoList.children.push(new Box({ className: 'py-8 text-center', children: [new Text('No tasks found in this view.', { variant: 'custom', className: 'text-gray-400' })] }));} else {for (const todo of filteredTodos) {todoList.children.push(new Box({ className: 'flex flex-row items-center p-2 border-b border-gray-100 dark:border-zinc-700 bg-white dark:bg-zinc-800 rounded transition-all hover:bg-gray-50 dark:hover:bg-zinc-700/50 group gap-[10px]', children: [new Checkbox({ checked: todo.isCompleted, onChange: (_) => {this.handleToggle(todo.id);} }), new Text(todo.title, { className: 'flex-1 transition-all', variant: todo.isCompleted ? 'custom' : 'primary' }), new Box({ className: 'flex flex-row gap-[4px] opacity-0 group-hover:opacity-100 transition-opacity', children: [new Button({ text: 'Edit', variant: 'ghost', className: 'px-2 py-1 text-xs text-blue-600 hover:text-blue-700', onClick: () => {this.openEdit(todo);} }), new Button({ text: 'Delete', variant: 'ghost', className: 'px-2 py-1 text-xs text-red-600 hover:text-red-700', onClick: () => {this.handleDelete(todo.id);} })] })] }));}}return new Box({ className: 'min-h-screen bg-gray-50 dark:bg-zinc-900 p-8 grid place-items-center', children: [new Box({ className: 'absolute top-4 right-4', children: [new Button({ text: `⚙️ Settings (${format('now', 'HH:mm')})`, variant: 'outline', className: 'bg-white dark:bg-zinc-800 text-sm', onClick: () => {this.setState(() => {this._isDrawerOpen = true;});} })] }), new Card({ width: 'w-full max-w-md', shadow: 'large', header: new Box({ className: 'w-full flex flex-col gap-[15px]', children: [new Box({ className: 'w-full flex flex-row items-center justify-between', children: [new Heading('Tasks', 2), new Text(`${format(this._todos.filter((t) => !t.isCompleted).length, 'N0')} remaining`, { variant: 'custom', className: 'text-gray-400' })] }), new Box({ className: 'flex flex-row gap-[8px] bg-gray-100/50 dark:bg-zinc-900/30 p-1 rounded-lg', children: [this.createFilterButton('all', 'All'), this.createFilterButton('active', 'Active'), this.createFilterButton('completed', 'Completed')] })] }), body: new Box({ className: 'flex flex-col gap-[20px]', children: [new Box({ className: 'flex flex-row gap-[10px]', children: [new TextInput({ value: this._newTodoTitle, placeholder: 'New task...', className: 'flex-1', onInput: (val) => {this.setState(() => {this._newTodoTitle = val;});} }), new Button({ text: 'Add', variant: 'primary', onClick: () => {this.handleAdd();} })] }), todoList] }), footer: this._todos.some((t) => t.isCompleted) ? new Box({ className: 'flex flex-row justify-center', children: [new Button({ text: 'Clear Completed', variant: 'link', className: 'text-xs uppercase font-semibold tracking-wider text-red-500 hover:text-red-700', onClick: () => {this.handleClearCompleted();} })] }) : null }), new Modal({ isOpen: this._isEditing, title: 'Edit Task', onClose: () => {this.setState(() => {this._isEditing = false;});}, body: new Box({ className: 'flex flex-col gap-[10px]', children: [new Text('Update the task title:', { variant: 'custom', className: 'text-gray-400' }), new TextInput({ value: this._editingTitle, onInput: (val) => {this.setState(() => {this._editingTitle = val;});} })] }), footer: new Box({ className: 'flex flex-row gap-[10px]', children: [new Button({ text: 'Cancel', variant: 'ghost', onClick: () => {this.setState(() => {this._isEditing = false;});} }), new Button({ text: 'Save Changes', variant: 'primary', onClick: () => {this.saveEdit();} })] }) }), new Drawer({ isOpen: this._isDrawerOpen, side: 'right', onClose: () => {this.setState(() => {this._isDrawerOpen = false;});}, content: new Box({ className: 'flex flex-col gap-[20px]', children: [new Heading('Settings', 3, { className: 'mb-4' }), new Text('Theme preferences and other settings will go here.', { variant: 'ghost' }), new Box({ className: 'p-3 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800', children: [new Text('eQuantic.UI is now running with Bun + Tailwind 100%!', { variant: 'custom', className: 'text-sm text-green-800 dark:text-green-300 font-medium' })] }), new Container({ className: 'mt-auto pt-8 border-t border-gray-100 dark:border-zinc-800', children: [new Button({ text: 'Back to List', variant: 'secondary', className: 'w-full', onClick: () => {this.setState(() => {this._isDrawerOpen = false;});} })] })] }) })] });\n    }\n\n}\n\n\n"
  ],
  "mappings": "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",
  "debugId": "64708D05A805B01C64756E2164756E21",
  "names": []
}
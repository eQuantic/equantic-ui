{
  "version": 3,
  "sources": ["../../obj/eQuantic/ts/TodoList.ts"],
  "sourcesContent": [
    "import { BuildContext, Button, Checkbox, Column, Component, ComponentState, Container, getServerActionsClient, Heading, Row, StatefulComponent, Text, TextInput } from \"@equantic/runtime\";\n\nexport class TodoList extends StatefulComponent {\n    createState() {\n        return new TodoListState(this)\n    }\n\n    async getTodos() {\n        return await getServerActionsClient().invoke('TodoList/GetTodos', [])\n    }\n\n    async addTodo(title: string) {\n        return await getServerActionsClient().invoke('TodoList/AddTodo', [title])\n    }\n\n    async toggleTodo(id: string) {\n        return await getServerActionsClient().invoke('TodoList/ToggleTodo', [id])\n    }\n\n    async deleteTodo(id: string) {\n        return await getServerActionsClient().invoke('TodoList/DeleteTodo', [id])\n    }\n\n}\n\n\nexport class TodoListState extends ComponentState {\n    _component: TodoList;\n    _needsRender: boolean = false;\n    _todos: Todo[] = [];\n    _newTodoTitle: string = \"\";\n    constructor(component: TodoList) {\n        super();\n        this._component = component;\n    }\n\n    setState(fn: () => void) {\n        fn();\n        this._needsRender = true;\n        this._component._scheduleRender();\n    }\n\n    onInit(): void {this._ = this.loadTodos();}\n\n    async loadTodos(): Promise<void> {this._todos = await this._component.getTodos();this.setState(() => {});}\n\n    async handleAdd(): Promise<void> {if ((!this._newTodoTitle || this._newTodoTitle.trim() === '')) return ;await this._component.addTodo(this._newTodoTitle);this._newTodoTitle = '';await this.loadTodos();}\n\n    async handleToggle(id: string): Promise<void> {await this._component.toggleTodo(id);await this.loadTodos();}\n\n    async handleDelete(id: string): Promise<void> {await this._component.deleteTodo(id);await this.loadTodos();}\n\n    build(context: BuildContext) {\n        let todoList = new Column({ gap: '5px' });for (const todo of this._todos) {todoList.Children.push(new Row({ className: 'todo-item', gap: '10px', children: [new Checkbox({ checked: todo.IsCompleted, onChange: (_) => {this.handleToggle(todo.Id);} }), new Text(todo.Title, { className: todo.IsCompleted ? 'completed' : '' }), new Button({ text: 'X', className: 'btn btn-danger btn-sm', onClick: () => {this.handleDelete(todo.Id);} })] }));}return new Container({ className: 'todo-container', children: [new Heading('eQuantic Todo List', 1), new Row({ gap: '10px', children: [new TextInput({ value: this._newTodoTitle, placeholder: 'What needs to be done?', onChange: (val) => this.setState(() => this._newTodoTitle = val) }), new Button({ text: 'Add', className: 'btn btn-primary', onClick: () => {this.handleAdd();} })] }), todoList] });\n    }\n\n}\n\n\n"
  ],
  "mappings": "AAAA,mJAEO,MAAM,iBAAiB,iBAAkB,CAC5C,WAAW,EAAG,CACV,OAAO,IAAI,cAAc,IAAI,OAG3B,SAAQ,EAAG,CACb,OAAO,MAAM,uBAAuB,EAAE,OAAO,oBAAqB,CAAC,CAAC,OAGlE,QAAO,CAAC,MAAe,CACzB,OAAO,MAAM,uBAAuB,EAAE,OAAO,mBAAoB,CAAC,KAAK,CAAC,OAGtE,WAAU,CAAC,GAAY,CACzB,OAAO,MAAM,uBAAuB,EAAE,OAAO,sBAAuB,CAAC,EAAE,CAAC,OAGtE,WAAU,CAAC,GAAY,CACzB,OAAO,MAAM,uBAAuB,EAAE,OAAO,sBAAuB,CAAC,EAAE,CAAC,EAGhF,CAGO,MAAM,sBAAsB,cAAe,CAC9C,WACA,aAAwB,GACxB,OAAiB,CAAC,EAClB,cAAwB,GACxB,WAAW,CAAC,UAAqB,CAC7B,MAAM,EACN,KAAK,WAAa,UAGtB,QAAQ,CAAC,GAAgB,CACrB,GAAG,EACH,KAAK,aAAe,GACpB,KAAK,WAAW,gBAAgB,EAGpC,MAAM,EAAS,CAAC,KAAK,EAAI,KAAK,UAAU,OAElC,UAAS,EAAkB,CAAC,KAAK,OAAS,MAAM,KAAK,WAAW,SAAS,EAAE,KAAK,SAAS,IAAM,EAAE,OAEjG,UAAS,EAAkB,CAAC,GAAK,CAAC,KAAK,eAAiB,KAAK,cAAc,KAAK,IAAM,GAAK,OAAQ,MAAM,KAAK,WAAW,QAAQ,KAAK,aAAa,EAAE,KAAK,cAAgB,GAAG,MAAM,KAAK,UAAU,OAElM,aAAY,CAAC,GAA2B,CAAC,MAAM,KAAK,WAAW,WAAW,EAAE,EAAE,MAAM,KAAK,UAAU,OAEnG,aAAY,CAAC,GAA2B,CAAC,MAAM,KAAK,WAAW,WAAW,EAAE,EAAE,MAAM,KAAK,UAAU,EAEzG,KAAK,CAAC,QAAuB,CACzB,IAAI,SAAW,IAAI,OAAO,CAAE,IAAK,KAAM,CAAC,EAAE,QAAW,QAAQ,KAAK,OAAS,SAAS,SAAS,KAAK,IAAI,IAAI,CAAE,UAAW,YAAa,IAAK,OAAQ,SAAU,CAAC,IAAI,SAAS,CAAE,QAAS,KAAK,YAAa,SAAU,CAAC,IAAM,CAAC,KAAK,aAAa,KAAK,EAAE,EAAI,CAAC,EAAG,IAAI,KAAK,KAAK,MAAO,CAAE,UAAW,KAAK,YAAc,YAAc,EAAG,CAAC,EAAG,IAAI,OAAO,CAAE,KAAM,IAAK,UAAW,wBAAyB,QAAS,IAAM,CAAC,KAAK,aAAa,KAAK,EAAE,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,EAAG,OAAO,IAAI,UAAU,CAAE,UAAW,iBAAkB,SAAU,CAAC,IAAI,QAAQ,qBAAsB,CAAC,EAAG,IAAI,IAAI,CAAE,IAAK,OAAQ,SAAU,CAAC,IAAI,UAAU,CAAE,MAAO,KAAK,cAAe,YAAa,yBAA0B,SAAU,CAAC,MAAQ,KAAK,SAAS,IAAM,KAAK,cAAgB,GAAG,CAAE,CAAC,EAAG,IAAI,OAAO,CAAE,KAAM,MAAO,UAAW,kBAAmB,QAAS,IAAM,CAAC,KAAK,UAAU,EAAI,CAAC,CAAC,CAAE,CAAC,EAAG,QAAQ,CAAE,CAAC,EAGz0B",
  "debugId": "8C0BA43DCB4F83ED64756E2164756E21",
  "names": []
}
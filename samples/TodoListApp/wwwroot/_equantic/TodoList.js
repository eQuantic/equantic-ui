import{Button,Checkbox,Column,ComponentState,Container,getServerActionsClient,Heading,Row,StatefulComponent,Text,TextInput}from"@equantic/runtime";class TodoList extends StatefulComponent{createState(){return new TodoListState(this)}async getTodos(){return await getServerActionsClient().invoke("TodoList/GetTodos",[])}async addTodo(title){return await getServerActionsClient().invoke("TodoList/AddTodo",[title])}async toggleTodo(id){return await getServerActionsClient().invoke("TodoList/ToggleTodo",[id])}async deleteTodo(id){return await getServerActionsClient().invoke("TodoList/DeleteTodo",[id])}}class TodoListState extends ComponentState{_component;_needsRender=!1;_todos=[];_newTodoTitle="";constructor(component){super();this._component=component}setState(fn){fn(),this._needsRender=!0,this._component._scheduleRender()}onInit(){this._=this.loadTodos()}async loadTodos(){this._todos=await this._component.getTodos(),this.setState(()=>{})}async handleAdd(){if(!this._newTodoTitle||this._newTodoTitle.trim()==="")return;await this._component.addTodo(this._newTodoTitle),this._newTodoTitle="",await this.loadTodos()}async handleToggle(id){await this._component.toggleTodo(id),await this.loadTodos()}async handleDelete(id){await this._component.deleteTodo(id),await this.loadTodos()}build(context){let todoList=new Column({gap:"5px"});for(let todo of this._todos)todoList.Children.push(new Row({className:"todo-item",gap:"10px",children:[new Checkbox({checked:todo.IsCompleted,onChange:(_)=>{this.handleToggle(todo.Id)}}),new Text(todo.Title,{className:todo.IsCompleted?"completed":""}),new Button({text:"X",className:"btn btn-danger btn-sm",onClick:()=>{this.handleDelete(todo.Id)}})]}));return new Container({className:"todo-container",children:[new Heading("eQuantic Todo List",1),new Row({gap:"10px",children:[new TextInput({value:this._newTodoTitle,placeholder:"What needs to be done?",onChange:(val)=>this.setState(()=>this._newTodoTitle=val)}),new Button({text:"Add",className:"btn btn-primary",onClick:()=>{this.handleAdd()}})]}),todoList]})}}export{TodoListState,TodoList};

//# debugId=8C0BA43DCB4F83ED64756E2164756E21
//# sourceMappingURL=TodoList.js.map

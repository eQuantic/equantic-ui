import{Button,Component,ComponentState,Container,getServerActionsClient,Heading,Row,StatefulComponent,TextInput}from"@equantic/runtime";class TodoList extends StatefulComponent{createState(){return new TodoListState(this)}async getTodos(){return await getServerActionsClient().invoke("TodoList/GetTodos",[])}async addTodo(title){return await getServerActionsClient().invoke("TodoList/AddTodo",[title])}async toggleTodo(id){return await getServerActionsClient().invoke("TodoList/ToggleTodo",[id])}async deleteTodo(id){return await getServerActionsClient().invoke("TodoList/DeleteTodo",[id])}}class TodoListState extends ComponentState{_component;_needsRender=!1;_todos=[];_newTodoTitle="";constructor(component){super();this._component=component}setState(fn){fn(),this._needsRender=!0,this._component._scheduleRender()}onInit(){this._=this.loadTodos()}async loadTodos(){this._todos=await Component.GetTodos(),this.setState(()=>{})}async handleAdd(){if(string.IsNullOrWhiteSpace(this._newTodoTitle))return;await Component.AddTodo(this._newTodoTitle),this._newTodoTitle="",await this.loadTodos()}async handleToggle(id){await Component.ToggleTodo(id),await this.loadTodos()}async handleDelete(id){await Component.DeleteTodo(id),await this.loadTodos()}build(context){return new Container({className:"todo-container",children:[new Heading({content:"eQuantic Todo List"}),new Row({gap:"10px",children:[new TextInput({value:this._newTodoTitle,placeholder:"What needs to be done?",onChange:(val)=>this.setState(()=>this._newTodoTitle=val)}),new Button({text:"Add",className:"btn btn-primary",onClick:()=>{this.handleAdd()}})]})]})}}export{TodoListState,TodoList};

//# debugId=A3B82E82A9485A0764756E2164756E21
//# sourceMappingURL=TodoList.js.map
